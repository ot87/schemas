(this.webpackJsonpschemas=this.webpackJsonpschemas||[]).push([[0],[,,,function(e,t,a){e.exports={plate:"Plate_plate__6E6ju",greenPlate:"Plate_greenPlate__2zV_9",goldPlate:"Plate_goldPlate__2qd3L",redPlate:"Plate_redPlate__3pckl",clickedPlate:"Plate_clickedPlate__uPfJ9",disabledPlate:"Plate_disabledPlate__25yZh",toggledPlate:"Plate_toggledPlate__3Oemj",greenTheme:"Plate_greenTheme__17YCM",goldTheme:"Plate_goldTheme__1zvtx",redTheme:"Plate_redTheme__2S6OT"}},,,,,,function(e,t,a){e.exports={card:"Card_card__2Yh1O",goldCard:"Card_goldCard__3ubRv",redCard:"Card_redCard__1mKA6",clicked:"Card_clicked__JyUaG",cardName:"Card_cardName__Io2pk",cardContent:"Card_cardContent__3CPJu"}},,,,,,,,,,function(e,t,a){e.exports={items:"SchemaFormItems_items__3Mzdw",remove:"SchemaFormItems_remove__1pGIb",clickedItemsRow:"SchemaFormItems_clickedItemsRow__YDDPG"}},,,,,function(e,t,a){e.exports={board:"SchemasBoard_board__1vukw"}},function(e,t,a){e.exports={schema:"Schema_schema__3twNs",items:"Schema_items__EED5a"}},function(e,t,a){e.exports={schemaForm:"SchemaForm_schemaForm__ZSOQT",schema:"SchemaForm_schema__1jhBp"}},function(e,t,a){e.exports={schemaFormItemsControls:"SchemaFormItemsControls_schemaFormItemsControls__2My1o",stickyWrapper:"SchemaFormItemsControls_stickyWrapper__2V4Y1"}},,,,function(e,t,a){e.exports={header:"Header_header__XyDSV"}},function(e,t,a){e.exports={schemasList:"SchemasList_schemasList__1I2lw"}},function(e,t,a){e.exports={schemasPanel:"SchemasPanel_schemasPanel__29TxM"}},function(e,t,a){e.exports={content:"Content_content__3ZyJB"}},function(e,t,a){e.exports={item:"Item_item__1Uhav"}},,function(e,t,a){e.exports={error:"FormField_error__BhTLT"}},,function(e,t,a){e.exports={schemaButtons:"SchemaFormButtons_schemaButtons__1x5xa"}},,,function(e,t,a){e.exports=a(55)},,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),l=a.n(r),i=a(4),s=(a(52),a(11)),m=(a(53),a(31)),o=a.n(m),d=a(3),u=a.n(d),h=function(e){var t=e.text,a=e.colorTheme,n=e.isClicked,r=e.isToggled,l=e.isDisabled,i=e.onClick,s=u.a.plate;return"green"===a?s=u.a.greenPlate:"gold"===a?s=u.a.goldPlate:"red"===a&&(s=u.a.redPlate),l?(s+=" "+u.a.disabledPlate,i=null):n?(s+=" "+u.a.clickedPlate,"green"===a?s+=" "+u.a.greenTheme:"gold"===a?s+=" "+u.a.goldTheme:"red"===a&&(s+=" "+u.a.redTheme),i=null):r&&(s+=" "+u.a.toggledPlate,"gold"===a?s+=" "+u.a.goldTheme:"red"===a&&(s+=" "+u.a.redTheme)),c.a.createElement("div",{role:"button",className:s,onClick:i},t)},f=a(32),p=a.n(f),_=a(14),E="SHOW",v="ADD",C="EDIT",k="DELETE",S=function(e){return{type:"ui/SELECT_SCHEMA",payload:{id:e}}},b=function(e){return{type:"ui/SET_MODE",payload:{mode:e}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectedSchemaId:null,mode:E},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ui/SELECT_SCHEMA":return Object(_.a)({},e,{selectedSchemaId:t.payload.id});case"ui/SET_MODE":return Object(_.a)({},e,{mode:t.payload.mode});default:return e}},y=a(8),x=a.n(y),O=a(18),T=a(13),D=a(23),I={key:null,init:function(e){this.key=e},saveData:function(e){localStorage.setItem(this.key,JSON.stringify(e))},loadData:function(){return JSON.parse(localStorage.getItem(this.key))||{schemas:[]}},addSchema:function(e){var t=this.loadData();return e.schema.id=t.schemas.length?t.schemas[t.schemas.length-1].id+1:1,t.schemas.push(e.schema),this.saveData(t),Promise.resolve({data:t.schemas[t.schemas.length-1]})},updateSchema:function(e){var t=this.loadData(),a=t.schemas.findIndex((function(t){return t.id===e.schema.id}));return t.schemas[a]=e.schema,this.saveData(t),Promise.resolve({data:t.schemas[a]})},deleteSchema:function(e){var t=this.loadData();return t.schemas=t.schemas.filter((function(t){return t.id!==e.id})),this.saveData(t),Promise.resolve()}},P=function(e){return{type:"schemas/ADD_SCHEMA",payload:{schema:e}}},j=function(e){return{type:"schemas/UPDATE_SCHEMA",payload:{schema:e}}},N=function(e){return{type:"schemas/DELETE_SCHEMA",payload:{id:e}}},w=Object(D.a)((function(e){return e.schemas}),(function(e){return e.map((function(e){return{id:e.id,name:e.name}}))})),A=Object(D.a)((function(e){return e.schemas}),(function(e){return e.length})),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"schemas/ADD_SCHEMA":return[].concat(Object(T.a)(e),[t.payload.schema]);case"schemas/UPDATE_SCHEMA":return e.map((function(e){return e.id===t.payload.schema.id?t.payload.schema:e}));case"schemas/DELETE_SCHEMA":return e.filter((function(e){return e.id!==t.payload.id}));default:return e}},M=Object(i.b)((function(e){return{schemas:w(e),selectedSchemaId:e.ui.selectedSchemaId}}),{selectSchema:S})((function(e){var t=e.schemas,a=e.selectedSchemaId,n=e.selectSchema;return c.a.createElement("div",{className:p.a.schemasList},t.map((function(e){return c.a.createElement(h,{key:e.id,text:e.name,isClicked:e.id===a,onClick:function(){return n(e.id)}})})))})),F=a(33),L=a.n(F),B=Object(i.b)((function(e){return{mode:e.ui.mode,schemasCount:A(e),selectedSchemaId:e.ui.selectedSchemaId}}),{setMode:b})((function(e){var t=e.mode,a=e.schemasCount,n=e.selectedSchemaId,r=e.setMode,l=t===v,i=t===C,s=t===k,m=function(e){r(!i&&!s||t!==e||n?e:E)},o=i&&n?{isClicked:i}:{isToggled:i},d=s&&n?{isClicked:s}:{isToggled:s};return c.a.createElement("div",{className:L.a.schemasPanel},c.a.createElement(h,{text:"Add",colorTheme:"green",isClicked:l,isDisabled:n&&(i||s),onClick:function(){return r(v)}}),a?c.a.createElement(h,Object.assign({text:"Edit",colorTheme:"gold"},o,{isDisabled:l||n&&s,onClick:function(){return m(C)}})):null,a?c.a.createElement(h,Object.assign({text:"Delete",colorTheme:"red"},d,{isDisabled:l||n&&i,onClick:function(){return m(k)}})):null)})),H=Object(i.b)((function(e){return{selectedSchemaId:e.ui.selectedSchemaId,mode:e.ui.mode}}),{selectSchema:S})((function(e){var t=e.selectedSchemaId,a=e.mode,n=e.selectSchema,r=e.isSchemasClicked,l=e.setIsSchemasClicked,i=t&&a===E;return c.a.createElement("header",{className:o.a.header},i?c.a.createElement(h,{text:"Back",onClick:function(){return n(null)}}):c.a.createElement(h,{text:"Schemas",isClicked:r,onClick:function(){return l(!0)}}),i?c.a.createElement(M,null):r?c.a.createElement(B,null):c.a.createElement("div",null))})),V=a(34),J=a.n(V),q=a(24),U=a.n(q),W=a(9),Y=a.n(W),z=function(e){var t=e.name,a=e.content,n=e.colorTheme,r=e.isClicked,l=e.onClick,i=Y.a.card;return"gold"===n&&(i=Y.a.goldCard),"red"===n&&(i=Y.a.redCard),r&&(i+=" "+Y.a.clicked),c.a.createElement("div",{role:"button",className:i,onClick:l},c.a.createElement("div",{className:Y.a.cardName},t),c.a.createElement("div",null,c.a.createElement("hr",null)),c.a.createElement("div",{className:Y.a.cardContent},a))},G=function(e){var t=e.name,a=e.content,n=e.colorTheme,r=e.cardIsClicked,l=e.onClick,i=e.buttons,s=i.first,m=i.second;return r&&(l=null,a=c.a.createElement(c.a.Fragment,null,c.a.createElement(h,{text:s.text,onClick:s.onClick}),c.a.createElement(h,{text:m.text,onClick:m.onClick}))),c.a.createElement(z,{name:t,content:a,colorTheme:n,isClicked:r,onClick:l})},Q=a(25),X=a.n(Q),Z=a(35),K=a.n(Z),$=function(e){var t=e.children;return c.a.createElement("span",{className:K.a.item},t)},ee=function(e){var t=e.schema;return c.a.createElement("div",{className:X.a.schema},c.a.createElement("div",null,t.name),c.a.createElement("div",null,t.description),c.a.createElement("div",null,t.items.map((function(e,t){return c.a.createElement("div",{key:t,className:X.a.items},c.a.createElement($,null,e.name),c.a.createElement($,null,e.quantity),c.a.createElement($,null,e.time))}))))},te=a(7),ae=a(36),ne=a(26),ce=a.n(ne),re=a(37),le=a.n(re),ie=function(e){var t=e.name,a=e.type,n=e.tag,r=e.validate,l=e.disabled,i=e.placeholder,s={input:"input",textarea:"textarea"}[n]||"input";return c.a.createElement(te.a,{name:t,type:a,validate:r},(function(e){var t=e.input,n=e.meta,m=r?n.touched&&n.error?le.a.error:"":null;return c.a.createElement("div",null,c.a.createElement(s,Object.assign({},t,{type:a,className:m,disabled:l,placeholder:i})))}))},se=a(27),me=a.n(se),oe=function(e){var t=e.isRemoveClicked,a=e.showRemove,n=e.isRemoveAllClicked,r=e.addOnClick,l=e.removeOnClick,i=e.removeAllOnClick;return c.a.createElement("div",{className:me.a.schemaFormItemsControls},c.a.createElement("div",{className:me.a.stickyWrapper},c.a.createElement(h,{text:"Add",colorTheme:"green",isDisabled:t,onClick:r}),a?c.a.createElement(h,{text:"Remove",colorTheme:"red",isToggled:t,onClick:l}):null,t?c.a.createElement(h,{text:"All",colorTheme:"red",isToggled:n,onClick:i}):null))},de=a(38),ue=a(19),he=a.n(ue),fe=function(e){var t=e.initItems,a=e.onValidate,n=e.isRemoveClicked,r=e.itemsIdsToRemove,l=e.handleRemoveOnItemsRowClick;return c.a.createElement(de.a,{name:"items",initialValue:t,render:function(e){return e.fields.map((function(e,t){var i=he.a.items;return n&&(i+=" "+he.a.remove,-1!==r.indexOf(t)&&(i+=" "+he.a.clickedItemsRow)),c.a.createElement("div",{key:t,role:"row",onClick:function(){return n&&l(t)},className:i},c.a.createElement($,null,c.a.createElement(ie,{name:"".concat(e,".name"),type:"text",tag:"input",validate:a,disabled:n,placeholder:"Name"})),c.a.createElement($,null,c.a.createElement(ie,{name:"".concat(e,".quantity"),type:"text",tag:"input",validate:a,disabled:n,placeholder:"Quantity"})),c.a.createElement($,null,c.a.createElement(ie,{name:"".concat(e,".time"),type:"text",tag:"input",disabled:n,placeholder:"Time"})))}))}})},pe=a(39),_e=a.n(pe),Ee=function(e){var t=e.submit,a=e.reset,n=e.cancel;return c.a.createElement("div",{className:_e.a.schemaButtons},c.a.createElement(h,{text:"Submit",colorTheme:"green",isDisabled:t.isDisabled,onClick:t.onClick}),c.a.createElement(h,{text:"Reset",colorTheme:"gold",isDisabled:a.isDisabled,onClick:a.onClick}),c.a.createElement(h,{text:"Cancel",colorTheme:"red",isDisabled:n.isDisabled,onClick:n.onClick}))},ve=function(e){var t=e.schema,a=e.onSubmit,r=e.onCancel,l=Object(n.useState)(!1),i=Object(s.a)(l,2),m=i[0],o=i[1],d=Object(n.useState)([]),u=Object(s.a)(d,2),h=u[0],f=u[1],p=Object(n.useState)(!1),E=Object(s.a)(p,2),v=E[0],C=E[1],k=function(e){return!e};return c.a.createElement(te.b,{onSubmit:a,initialValues:t,mutators:Object(_.a)({},ae.a),render:function(e){var t,a=e.handleSubmit,n=e.form,l=n.mutators,i=l.push,s=l.removeBatch,d=n.submit,u=n.reset,p=e.submitting,_=e.dirty,E=e.initialValues,S=e.values;return c.a.createElement("div",{className:ce.a.schemaForm},c.a.createElement(oe,{isRemoveClicked:m,showRemove:!!S.items.length,isRemoveAllClicked:v,addOnClick:function(){return function(e,t){e("items",{id:t.length?t[t.length-1].id+1:1,name:"",quantity:"",time:""})}(i,S.items)},removeOnClick:function(){return function(e){m&&h.length&&(e("items",h),f([]),C(!1)),o(!m)}(s)},removeAllOnClick:function(){return e=S.items,f(v?[]:Object(T.a)(e.keys())),void C(!v);var e}}),c.a.createElement("form",{onSubmit:a},c.a.createElement("div",{role:"table",className:ce.a.schema},c.a.createElement(ie,{name:"name",type:"text",tag:"input",validate:k,disabled:m}),c.a.createElement(ie,{name:"description",type:"text",tag:"textarea",disabled:m}),c.a.createElement(fe,{initItems:E.items,onValidate:k,isRemoveClicked:m,itemsIdsToRemove:h,handleRemoveOnItemsRowClick:(t=S.items,function(e){var a=Object(T.a)(h);a=-1!==h.indexOf(e)?h.filter((function(t){return t!==e})):h.concat(e),f(a),C(t.length===a.length)})}),c.a.createElement(Ee,{submit:{isDisabled:m||p,onClick:d},reset:{isDisabled:m||p||!_,onClick:u},cancel:{isDisabled:m||p,onClick:r}}))))}})},Ce=Object(i.b)((function(e){return{schemas:e.schemas,selectedSchemaId:e.ui.selectedSchemaId,mode:e.ui.mode}}),{addSchema:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.addSchema({schema:e});case 2:n=t.sent,a(P(n.data)),a(b(E));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateSchema:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.updateSchema({schema:e});case 2:n=t.sent,a(j(n.data)),a(S(null));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteSchema:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.deleteSchema({id:e});case 2:a(N(e)),a(S(null));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},selectSchema:S,setMode:b})((function(e){var t,a=e.schemas,n=e.selectedSchemaId,r=e.mode,l=e.addSchema,i=e.updateSchema,s=e.deleteSchema,m=e.selectSchema,o=e.setMode,d=r===v,u=r===C,h=r===k;if(n)t=u?c.a.createElement(ve,{schema:a.find((function(e){return e.id===n})),onSubmit:i,onCancel:function(){return m(null)}}):h?c.a.createElement("div",{className:U.a.board},a.map((function(e){return c.a.createElement(G,{key:e.id,name:e.name,content:e.items.map((function(e){return c.a.createElement("div",{key:e.id},e.name)})),colorTheme:"red",cardIsClicked:e.id===n,onClick:function(){return m(e.id)},buttons:{first:{text:"Delete",onClick:function(){return s(e.id)}},second:{text:"Cancel",onClick:function(){return m(null)}}}})}))):c.a.createElement(ee,{schema:a.find((function(e){return e.id===n}))});else if(d)t=c.a.createElement(ve,{schema:{items:[]},onSubmit:l,onCancel:function(){return o(E)}});else{var f=null;u&&(f="gold"),h&&(f="red"),t=c.a.createElement("div",{className:U.a.board},a.map((function(e){return c.a.createElement(z,{key:e.id,name:e.name,content:e.items.map((function(e){return c.a.createElement("div",{key:e.id},e.name)})),colorTheme:f,onClick:function(){return m(e.id)}})})))}return t})),ke=function(e){var t=e.isSchemasClicked;return c.a.createElement("div",{className:J.a.content},t&&c.a.createElement(Ce,null))},Se=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"app-wrapper"},c.a.createElement(H,{isSchemasClicked:a,setIsSchemasClicked:r}),c.a.createElement(ke,{isSchemasClicked:a}))},be=a(6),ge=a(40),ye=a(41),xe=a.n(ye),Oe=Object(be.c)({schemas:R,ui:g});I.init("Profile 1"),I.loadData().schemas.length||I.saveData({schemas:[{name:"Demo Schema 1",description:"Demo Schema 1 Description",items:[{id:1,name:"Item 111",quantity:"Quantity 1",time:"Time 1"},{id:6,name:"111",quantity:"111",time:"111"},{id:7,name:"222",quantity:"222",time:"222"}],id:1}]});var Te=function(e){var t=[ge.a,xe.a],a=[be.a.apply(void 0,t)],n=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||be.d).apply(void 0,a);return Object(be.e)(Oe,e,n)}(I.loadData());l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,{store:Te},c.a.createElement(Se,null))),document.getElementById("root"))}],[[42,1,2]]]);
//# sourceMappingURL=main.fa836f6f.chunk.js.map